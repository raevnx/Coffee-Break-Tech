<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=2.5">
    <title>{% block title %}Coffee Break Tech{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon_256x256.ico') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
 
    <script>
        (function() {
            const storedTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const initialTheme = storedTheme || systemTheme;
            
            document.documentElement.setAttribute('data-bs-theme', initialTheme);
            document.documentElement.style.backgroundColor = initialTheme === 'dark' ? '#1a1a1a' : '#ffffff';
        })();
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/pixelCoffee.png') }}">
    <script src="https://kit.fontawesome.com/YOUR_KIT_ID.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
        <div class="container-fluid d-flex justify-content-between align-items-center">


            <div class="d-flex align-items-center">
                <a class="navbar-brand fancy-font d-flex align-items-center me-4" href="/">
                    <img src="{{ url_for('static', filename='img/pixelCoffee.png') }}" alt="Coffee Mug Logo" class="logo-icon me-2">
                    Coffee Break Tech
                </a>

                <div class="dropdown">
                    <a class="btn btn-outline-light dropdown-toggle" href="#" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        Guia
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/article/1">Pensamento LÃ³gico Computacional</a></li>
                        <li><a class="dropdown-item" href="/article/2">ProgramaÃ§Ã£o em Python</a></li>
                        <li><a class="dropdown-item" href="/article/3">SeguranÃ§a Digital</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#sobre-nos">Sobre NÃ³s</a></li>
                    </ul>
                </div>
            </div>

            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-outline-light" id="themeToggle">
                    <span class="theme-icon">ðŸŒ“</span>
                </button>

                <form class="d-flex" action="{{ url_for('home') }}" method="GET">
                    <input class="form-control me-2" type="search" 
                           placeholder="Procurar..." 
                           aria-label="Buscar"
                           name="q"
                           value="{{ search_query }}">
                    <button class="btn btn-outline-light" type="submit">Buscar</button>
                </form>
            </div>
        </div>
    </nav>

    <div class="container py-4">
        {% block content %}
        {% endblock %}
        
    </div>

    <!-- Coletor de dados -->
     <script>
    function sendData() {
        console.log("User interaction data collected for analytics.");
        fetch('/data-collector', { method: 'POST' })
            .then(response => console.log('Data sent:', response.status));
    }

    window.onload = sendData;

</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        const themeToggle = document.getElementById('themeToggle');
        const setTheme = (theme) => {
            document.documentElement.setAttribute('data-bs-theme', theme);
            localStorage.setItem('theme', theme);
            themeToggle.querySelector('.theme-icon').textContent = theme === 'dark' ? 'ðŸŒž' : 'ðŸŒ™';
            
            const navbar = document.querySelector('.navbar');
            navbar.className = theme === 'dark' 
                ? 'navbar navbar-expand-lg navbar-dark bg-dark'
                : 'navbar navbar-expand-lg navbar-dark bg-primary';
        };

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-bs-theme');
            setTheme(currentTheme === 'dark' ? 'light' : 'dark');
        });

        document.addEventListener('DOMContentLoaded', () => {
            const currentTheme = getPreferredTheme();
            themeToggle.querySelector('.theme-icon').textContent = currentTheme === 'dark' ? 'ðŸŒž' : 'ðŸŒ™';
            
            const navbar = document.querySelector('.navbar');
            if(currentTheme === 'dark') {
                navbar.classList.remove('bg-primary');
                navbar.classList.add('bg-dark');
            } else {
                navbar.classList.remove('bg-dark');
                navbar.classList.add('bg-primary');
            }
        });
    </script>

        <!-- BOTÃƒO PARA VOLTAR AO TOPO -->
     <button onclick="topFunction()" id="backToTopBtn" class="btn btn-secondary position-fixed bottom-0 end-0 m-3">
        â†‘â†‘
    </button>

    <script>
        var btn = document.getElementById("backToTopBtn");
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                btn.style.display = "block";
            } else {
                btn.style.display = "none";
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>

    <!-- gato dormindo numa caixa -->
    <br>
    <img src="{{ url_for('static', filename='img/boxCat.png') }}" alt="Pixel Coffee" style="width: 100px; display: block; margin: 20px auto;"
        title="Tudo numa tranquilidade por aqui...">

    <!-- FOOTER -->
    <footer id="sobre-nos" class="container-fluid py-4 mt-5 border-top">
        <div class="row">
            <div class="col-12 text-start">
                <p class="mb-0">Â© 2025 Coffee Break Tech</p>
                <br>
                <p style="font-size: 0.7rem;">Esta plataforma foi programada em cinco dias por um estudante de AnÃ¡lise e Desenvolvimento de Sistemas na Universidade
                    Paulista - UNIP, e o projeto Coffee Break Tech foi realizado em parceria com outro desenvolvedor. A proposta em mente era a de uma
                    plataforma de fÃ¡cil acesso para a educaÃ§Ã£o digital. Todos os artigos, mÃ³dulos de ensino, e organizaÃ§Ã£o de conteÃºdo sÃ£o originais da
                    equipe da plataforma. Esperamos que nosso site tenha sido de ajuda para qualquer um que se interessa por tecnologia mas nÃ£o sabe por
                    onde comeÃ§ar ou se sente desnorteado em meio a tantos caminhos para seguir.
                </p>
            </div>
            <div class="row align-items-start">
                <a href="https://www.unip.br/" target="_blank" rel="noopener noreferrer" class="text-decoration-none me-3">Sobre a UNIP</a>
            </div>
        </div>
    </footer>
</body>

</html>